{"ast":null,"code":"import EventBus from './eventBus';\nexport default {\n  el: '#loginModal',\n  data() {\n    return {\n      username: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    showLoginModal() {\n      this.$el.style.display = \"block\";\n    },\n    hideLoginModal() {\n      this.$el.style.display = \"none\";\n    },\n    showRegisterModalAfterHidingLogin() {\n      this.hideLoginModal();\n      // registerModal.showRegisterModal();\n      EventBus.$emit('login-modal-show');\n    },\n    login() {\n      if (!this.username) {\n        alert(\"用户名不能为空\");\n      } else if (!this.password) {\n        alert(\"密码不能为空\");\n      } else {\n        axios({\n          method: \"post\",\n          url: 'http://localhost:3000/users',\n          data: {\n            username: this.username,\n            password: this.password\n          },\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function (res) {\n          console.log(res.data);\n          // 处理登录成功的逻辑，例如隐藏登录模态框\n          this.hideLoginModal();\n        }.bind(this)).catch(function (error) {\n          console.log(error);\n          // 可以在此处显示错误信息\n          alert('登录失败：' + error.message);\n        });\n      }\n    }\n  },\n  mounted() {\n    document.getElementById(\"loginBtn\").addEventListener(\"click\", this.showLoginModal);\n    document.getElementsByClassName(\"close\")[0].addEventListener(\"click\", this.hideLoginModal);\n    document.getElementById(\"register\").addEventListener(\"click\", this.showRegisterModalAfterHidingLogin);\n  }\n};","map":{"version":3,"names":["EventBus","el","data","username","password","methods","showLoginModal","$el","style","display","hideLoginModal","showRegisterModalAfterHidingLogin","$emit","login","alert","axios","method","url","headers","then","res","console","log","bind","catch","error","message","mounted","document","getElementById","addEventListener","getElementsByClassName"],"sources":["src/views/element/ElementView4.vue"],"sourcesContent":["<template>\r\n    <div id=\"loginModal\" class=\"modal\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"style1 \">登录</div>\r\n            <span class=\"close\">&times;</span>\r\n            <form class=\"form\" style=\"padding-top: 20px;\" >\r\n                <label for=\"username\"><span style=\"color:red;\">*</span><span class=\"style2\" >用户名</span></label>\r\n                <input class=\"style5\" type=\"text\" id=\"username\" name=\"username\" autocomplete=\"off\" v-model=\"username\"  />\r\n                <br />\r\n                <label for=\"password\" style=\"padding-right: 18px;padding-bottom: 16px;\"><span style=\"color:red;\">*</span><span class=\"style2\" >密码</span></label>\r\n                <input class=\"style5\" type=\"password\" id=\"password\" name=\"password\" v-model=\"password\"  />\r\n                <br />\r\n                <div class=\"row\" style=\"padding-left: 18px;margin: 0;\">\r\n                    <input class=\"style4 col-md-3 \" id=\"login\" type=\"button\" value=\"登录\" @click=\"login\" />\r\n                    <input class=\"style3 col-md-3 col-md-offset-1\" style=\"margin-left: 16px;margin-right: 16px;\" type=\"reset\" value=\"重置\">\r\n                    <input class=\"style3 col-md-3 col-md-offset-1\" style=\"margin-left: 0;\" id=\"register\" type=\"button\" value=\"注册\">\r\n    </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n  </template>\r\n  <script src=\"https://cdn.jsdelivr.net/npm/vue@2\"></script>\r\n\t<script src=\"https://unpkg.com/axios/dist/axios.min.js\"></script>\r\n  \r\n<script>\r\n    import EventBus from './eventBus';\r\n   export default {\r\n          el: '#loginModal',\r\n          data() {\r\n            return {\r\n              username: \"\",\r\n              password: \"\",\r\n            };\r\n          },\r\n          methods: {\r\n            showLoginModal() {\r\n              this.$el.style.display = \"block\";\r\n            },\r\n            hideLoginModal() {\r\n              this.$el.style.display = \"none\";\r\n            },\r\n            showRegisterModalAfterHidingLogin() {\r\n              this.hideLoginModal();\r\n              // registerModal.showRegisterModal();\r\n              EventBus.$emit('login-modal-show');\r\n            },\r\n            login() {\r\n              if (!this.username ) {\r\n                alert(\"用户名不能为空\");\r\n              } else if(!this.password){\r\n                alert(\"密码不能为空\");\r\n              }else {\r\n                axios({\r\n                  method: \"post\",\r\n                  url: 'http://localhost:3000/users',\r\n                  data: {\r\n                    username: this.username,\r\n                    password: this.password\r\n                  },\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                  }\r\n                }).then(function (res) {\r\n                  console.log(res.data);\r\n                  // 处理登录成功的逻辑，例如隐藏登录模态框\r\n                  this.hideLoginModal();\r\n                }.bind(this)).catch(function (error) {\r\n                  console.log(error);\r\n                  // 可以在此处显示错误信息\r\n                   alert('登录失败：' + error.message);\r\n                });\r\n              }\r\n            },\r\n          },\r\n          mounted() {\r\n            document.getElementById(\"loginBtn\").addEventListener(\"click\", this.showLoginModal);\r\n            document.getElementsByClassName(\"close\")[0].addEventListener(\"click\", this.hideLoginModal);\r\n            document.getElementById(\"register\").addEventListener(\"click\", this.showRegisterModalAfterHidingLogin)\r\n          },\r\n        };\r\n</script>\r\n  \r\n<style>\r\n.panel {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .chuangkou1 {\r\n    background: url(./img/home-banner@2x.jpg);\r\n    background-size: cover;\r\n    height: 60vh;\r\n  }\r\n  .panel-body {\r\n    background-size: cover;\r\n  }\r\n  .center {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  #rightnow {\r\n    width: 180px;\r\n    height: 48px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n  .thumbnail {\r\n    border-color: white;\r\n    text-align: left;\r\n  }\r\n  @media (max-width: 768px) {\r\n    .picture {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .modal {\r\n    display: none;\r\n    position: fixed;\r\n    z-index: 1;\r\n    /* left: 0;\r\n    top: 0; */\r\n    inset: 0; /* 在视口中居中，相当于 top, right, bottom, left 都为 0 */\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n    background-color: rgba(0, 0, 0, 0.4);\r\n        \r\n  }\r\n\r\n  .modal-content {\r\n    display: flex; /* 使用Flexbox布局 */\r\n    justify-content: center; /* 水平居中 */\r\n    align-items: center; /* 垂直居中 */\r\n    background-color: #fefefe;\r\n    margin: 15% auto;\r\n    padding: 20px;\r\n    border: 1px solid #888;\r\n    width: 80%;\r\n    height: 80%;\r\n        max-width: 350px;\r\n    max-height: 250px;\r\n    position: relative;\r\n  }\r\n  \r\n  .form{\r\n    width: 100%;\r\n  }\r\n\r\n  .close {\r\n    color: #aaa;\r\n    /* float: right ; */\r\n    font-size: 28px;\r\n    font-weight: bold;\r\n        position: absolute;\r\n        top: 10px; \r\n        right: 10px;\r\n  }\r\n\r\n  .close:hover,\r\n  .close:focus {\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n  }\r\n  .style1{\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        position: absolute;\r\n        top: 25px;\r\n        justify-content: center; /* 水平居中 */\r\n  }\r\n  .style2{\r\n        font-size: 18px;\r\n        font-weight: normal;\r\n        color: #666;\r\n  }\r\n  .style3{\r\n        font-size: 18px;\r\n        font-weight: normal;\r\n        color: #666;\r\n        border-color: #DDDFE6;\r\n        border-radius: 5px;\r\n        padding-top: 5px;\r\n  }\r\n  .style4{\r\n        font-size: 18px;\r\n        font-weight: normal;\r\n        color:white;\r\n        background-color: #589EF8;\r\n        border-color: transparent;\r\n        border-radius: 5px;\r\n        padding-top: 5px;\r\n  }\r\n  .style5{\r\n        margin-bottom: 20px;\r\n        border-color: #DDDFE6;\r\n        border-radius: 5px;\r\n    }\r\n</style>"],"mappings":"AAyBA,OAAAA,QAAA;AACA;EACAC,EAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAA;MACA,KAAAC,GAAA,CAAAC,KAAA,CAAAC,OAAA;IACA;IACAC,eAAA;MACA,KAAAH,GAAA,CAAAC,KAAA,CAAAC,OAAA;IACA;IACAE,kCAAA;MACA,KAAAD,cAAA;MACA;MACAV,QAAA,CAAAY,KAAA;IACA;IACAC,MAAA;MACA,UAAAV,QAAA;QACAW,KAAA;MACA,iBAAAV,QAAA;QACAU,KAAA;MACA;QACAC,KAAA;UACAC,MAAA;UACAC,GAAA;UACAf,IAAA;YACAC,QAAA,OAAAA,QAAA;YACAC,QAAA,OAAAA;UACA;UACAc,OAAA;YACA;UACA;QACA,GAAAC,IAAA,WAAAC,GAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAlB,IAAA;UACA;UACA,KAAAQ,cAAA;QACA,EAAAa,IAAA,QAAAC,KAAA,WAAAC,KAAA;UACAJ,OAAA,CAAAC,GAAA,CAAAG,KAAA;UACA;UACAX,KAAA,WAAAW,KAAA,CAAAC,OAAA;QACA;MACA;IACA;EACA;EACAC,QAAA;IACAC,QAAA,CAAAC,cAAA,aAAAC,gBAAA,eAAAxB,cAAA;IACAsB,QAAA,CAAAG,sBAAA,aAAAD,gBAAA,eAAApB,cAAA;IACAkB,QAAA,CAAAC,cAAA,aAAAC,gBAAA,eAAAnB,iCAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}